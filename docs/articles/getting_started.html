<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started • kuber</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">kuber</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/debug_exec.html">Debugging exec.R</a>
    </li>
    <li>
      <a href="../articles/getting_started.html">Getting started</a>
    </li>
    <li>
      <a href="../articles/toy_example.html">Toy example</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/platipusc/kuber">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Getting started</h1>
                        <h4 class="author">Caio Lente</h4>
            
            <h4 class="date">2019-05-02</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/platipusc/kuber/blob/master/vignettes/getting_started.Rmd"><code>vignettes/getting_started.Rmd</code></a></small>
      <div class="hidden name"><code>getting_started.Rmd</code></div>

    </div>

    
    
<p>The main goal of Kuber is to help with massively parallel computations. It leverages <a href="https://kubernetes.io/">kubernetes</a> and <a href="https://www.docker.com/">docker</a> in order to create a container that automatically runs orchestrated tasks in parallel via <a href="https://kubernetes.io/docs/tasks/job/parallel-processing-expansion/">expansion</a>. If you already use <a href="https://cloud.google.com/">Google Cloud Platform</a>, Kuber is also able to automatically create clusters, run computations, and track their progress with Google’s <a href="https://cloud.google.com/sdk/">cloud SDK</a>.</p>
<div id="before-installing" class="section level2">
<h2 class="hasAnchor">
<a href="#before-installing" class="anchor"></a>Before installing</h2>
<p>To take full advantage of Kuber, you must use GCP. Creating an account is easy and you also get a bunch of money to use in your 1-year trial, but note that <strong>we are not responsible</strong> for any expenses you incur as a result of using Kuber! This is FOSS, so be very careful.</p>
<p>The first step should be creating an account. Just head over to the <a href="https://console.cloud.google.com/freetrial">free trial</a> page and register a Google account. In just a few seconds Google will create a new project (with a randomly generated ID) that can be explored through the <a href="https://console.cloud.google.com/home/dashboard">console</a>.</p>
<p>There are <em>loads</em> of different solutions available, and, before using any of them, reading their <a href="https://cloud.google.com/docs/">documentations</a> might be helpful. To understand how Kuber works, there are three main pages to look through: <a href="https://cloud.google.com/compute/docs/">Google Compute Engine</a> (GCE), <a href="https://cloud.google.com/kubernetes-engine/docs/">Google Kubernetes Engine</a> (GKE), and <a href="https://cloud.google.com/storage/docs/">Google Cloud Storage</a> (GCS).</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The installation process is, at the moment, very bare bones. Installing the package itself is simple because it has no mandatory dependencies, but installing the command line tools it leverages can be a bit confusing. The package works by issuing Unix commands, so it is probably not going to work on Windows.</p>
<p>If you’re using Debian/Ubuntu, Kuber has the very convenient <code><a href="../reference/kub_install_docker.html">kub_install_docker()</a></code> and <code><a href="../reference/kub_install_gcloud.html">kub_install_gcloud()</a></code> functions that should setup the environment just right. But for any other platforms you’ll have to setup everything yourself.</p>
<p>Strictly speaking, Kuber needs to run three commands <em>without</em> administrative privileges: <code>docker</code>, <code>gcloud</code> and <code>kubectl</code>. Documentation on how to install them can be found at their respective websites:</p>
<ul>
<li>Docker CE installation: <a href="https://docs.docker.com/install/">https://docs.docker.com/install/</a>
</li>
<li>Google Cloud SDK installation: <a href="https://cloud.google.com/sdk/install">https://cloud.google.com/sdk/install</a>
</li>
<li>Kubernetes command-line tool installation: <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">https://kubernetes.io/docs/tasks/tools/install-kubectl/</a>
</li>
</ul>
<div id="sudo-and-docker" class="section level3">
<h3 class="hasAnchor">
<a href="#sudo-and-docker" class="anchor"></a>Sudo and docker</h3>
<p>At least on Linux, Docker commands require sudo privileges. In order to solve this minor issue, please refer to their <a href="https://docs.docker.com/install/linux/linux-postinstall/">documentation</a>. Remember that Kuber is not going to work unless it can execute without sudo.</p>
</div>
<div id="gcloud-init" class="section level3">
<h3 class="hasAnchor">
<a href="#gcloud-init" class="anchor"></a>Gcloud init</h3>
<p>In order to use the <code>gcloud</code> command, you must first allow your account to access some APIs. In the <a href="https://console.developers.google.com/apis/dashboard">API dashboard</a>, click on “Activate APIs and services” and choose “Compute Engine API”, “Kubernetes Engine API” and “Cloud Storage API”.</p>
<p>After installing Google’s Cloud SDK and setting up API access, make sure you run <code>gcloud init</code> on your terminal afterwards in order to authenticate your computer as a trustworthy device on GCP. Choose any default zone you want, but make sure to choose one.</p>
</div>
</div>
<div id="service-account" class="section level2">
<h2 class="hasAnchor">
<a href="#service-account" class="anchor"></a>Service account</h2>
<p>Unless your parallel task doesn’t return any results, you’ll want to save its output to a persistent storage medium (which GKE doesn’t provide in a straightforward way). After installing and making sure everything is up and running, the only step left is creating a service account in GCP so that any Docker image can write to a persistent GCS bucket.</p>
<p>This process is very simple and can be done in the <a href="https://console.cloud.google.com/iam-admin/serviceaccounts/create">IAM tab</a>. Give the service account a memorable name (like “storage”), leave the ID as is and describe your Kuber needs. Follow on to the next screen and chose the account’s roles; they can be as broad as you want, but it <em>must</em> include “Storage Admin”, “Storage Transfer Admin”, and “Storage Object Admin”. In the last screen just click “Create Key”, select JSON as the type and accept the changes.</p>
<p>The result of this process will be a file known as a “service account key” which can be used in any <code>gcloud</code> command as an authentication on your behalf. Be very careful with this file because it can be used to create/delete anything in your GCS account.</p>
</div>
<div id="all-set" class="section level2">
<h2 class="hasAnchor">
<a href="#all-set" class="anchor"></a>All set</h2>
<p>Now Kuber’s setup process is complete. To learn more about how to create a parallel task, take a look at the “Toy example” vignette.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#before-installing">Before installing</a></li>
      <li><a href="#installation">Installation</a></li>
      <li><a href="#service-account">Service account</a></li>
      <li><a href="#all-set">All set</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Caio Lente.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
